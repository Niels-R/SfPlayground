@using SfPlayground.Models;
@using Syncfusion.Blazor
@using Syncfusion.Blazor.Data
@using Syncfusion.Blazor.Grids

<SfGrid AllowReordering="true"
        AllowResizing="true"
        AllowSorting="true"
        DataSource="ProjectProperties"
        EnablePersistence="true"
        TValue="Property">
    <GridColumns>
        <GridColumn Field="@nameof(Property.PropertyAutoId)" />
        <GridColumn Field="@nameof(Property.Reference)" />
        <GridColumn Field="@nameof(Property.Transaction)" />
        <GridColumn Field="@nameof(Property.TypeId)" />
        <GridColumn Field="@nameof(Property.Type)" />
        <GridColumn Field="@nameof(Property.Availability)" />
        <GridColumn Field="@nameof(Property.ConstructionYear)" Visible="false" />
        <GridColumn Field="@nameof(Property.BuildingType)" Visible="false" />
        <GridColumn Field="@nameof(Property.Street)" Visible="false" />
        <GridColumn Field="@nameof(Property.Number)" Visible="false" />
        <GridColumn Field="@nameof(Property.Box)" Visible="false" />
        <GridColumn Field="@nameof(Property.FileAdministrator)" Visible="false" />
        <GridColumn Field="@nameof(Property.Office)" Visible="false" />
        <GridColumn Field="@nameof(Property.Owner)" Visible="false" />
        <GridColumn Field="@nameof(Property.Renter)" Visible="false" />
        <GridColumn Field="@nameof(Property.Buyer)" Visible="false" />
        <GridColumn Field="@nameof(Property.Development)" DisplayAsCheckBox="true" Visible="false" />
        <GridColumn Field="@nameof(Property.Investment)" DisplayAsCheckBox="true" Visible="false" />
        <GridColumn Field="@nameof(Property.Poster)" DisplayAsCheckBox="true" Visible="false" />
        <GridColumn Field="@nameof(Property.Bedrooms)" Visible="false" />
        <GridColumn Field="@nameof(Property.Key)" Visible="false" />
        <GridColumn Field="@nameof(Property.Status)" Visible="false" />
        <GridColumn Field="@nameof(Property.ResponsibleSalesRep)" Visible="false" />
        <GridColumn Field="@nameof(Property.Archived)" DisplayAsCheckBox="true" Visible="false" />
        <GridColumn Field="@nameof(Property.Show)" DisplayAsCheckBox="true" Visible="false" />
        <GridColumn Field="@nameof(Property.Flag)" Visible="false" />
        <GridColumn Field="@nameof(Property.ProjectPropertyAutoId)" Visible="false" />
        <GridColumn Field="@nameof(Property.ProjectReference)" Visible="false" />
        <GridColumn Field="@nameof(Property.Creation)" Visible="false" />
        <GridColumn Field="@nameof(Property.Modified)" Visible="false" />
    </GridColumns>
    <GridEvents OnLoad="OnLoadEventHandler"
                RowDataBound="OnRowDataBound"
                TValue="Property" />
    <GridTemplates>
        <DetailTemplate>
            @{
                var property = (context as Property);

                if (property?.TypeId == 21)
                {
                    <SfSubGridComponent ProjectPropertyAutoId="property.PropertyAutoId"
                                Properties="Properties" />
                }
            }
        </DetailTemplate>
    </GridTemplates>
</SfGrid>